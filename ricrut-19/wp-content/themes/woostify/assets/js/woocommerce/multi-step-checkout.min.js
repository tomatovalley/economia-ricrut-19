"use strict";var woostifyValidateEmail=function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},woostifyExpandOrderReview=function(){var e=document.querySelector(".has-multi-step-checkout"),t=document.querySelector("form.woocommerce-checkout"),o=!!t&&t.querySelector(".woostify-before-order-review"),r=1;e&&o&&(o.onclick=function(){1===r?(t.classList.add("expanded-order-review"),r=2):(t.classList.remove("expanded-order-review"),r=1)})},woostifyMultiStepCheckout=function(){var e=document.querySelector(".has-multi-step-checkout"),t=document.querySelector(".multi-step-checkout");if(e&&t){var o=t.querySelectorAll(".multi-step-item"),r=document.querySelector("form.woocommerce-checkout");if(o.length&&r){r.querySelector("#shipping_method");var i=r.querySelector(".cart-subtotal"),c=r.querySelector(".wc_payment_methods"),n=r.querySelector(".woocommerce-terms-and-conditions-wrapper"),l=r.querySelector(".multi-step-checkout-wrapper"),d=(r.querySelector('.multi-step-checkout-content[data-step="first"]'),r.querySelector('.multi-step-checkout-content[data-step="second"]')),a=r.querySelector('.multi-step-checkout-content[data-step="last"]'),u=r.querySelector(".multi-step-checkout-button-wrapper"),s=(r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),u?u.querySelectorAll(".multi-step-checkout-button"):[]),m=!!u&&u.querySelector('.multi-step-checkout-button[data-action="continue"]'),p=m?m.getAttribute("data-continue"):"";s.length&&s.forEach((function(e){e.onclick=function(){var o=e.getAttribute("data-action"),i=t.querySelector(".multi-step-item.active"),c=!!i&&i.previousElementSibling,n=!!i&&i.nextElementSibling,l=r.querySelector(".multi-step-checkout-content .woocommerce-terms-and-conditions-wrapper"),d=!!l&&l.querySelector('.multi-step-checkout-content [name="terms"]'),a=!d||d.checked;if("back"==o&&c&&c.click(),"continue"==o&&n&&n.click(),"place_order"==o){if(l){if(!a)return void l.classList.add("required-item");l.classList.remove("required-item")}document.getElementById("place_order")&&document.getElementById("place_order").click()}window.matchMedia("(max-width: 992px)").matches&&jQuery("html, body").animate({scrollTop:jQuery(t).offset().top},300)}}));if(c&&a){var h='<ul class="wc_payment_methods payment_methods methods">'+c.innerHTML+"</ul>";a.insertAdjacentHTML("beforeend",h);var f=document.querySelectorAll('.multi-step-checkout-content .wc_payment_methods [name="payment_method"]');if(f.length&&f.forEach((function(e){var t=document.querySelector('.multi-step-checkout-button[data-action="place_order"]'),o=t.innerHTML;e.onclick=function(){var r=e.getAttribute("data-order_button_text");t.innerHTML=t&&r?r:o}})),n){var y='<div class="woocommerce-terms-and-conditions-wrapper">'+n.innerHTML+"</div>";a.insertAdjacentHTML("beforeend",y)}}var v=function(e){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length){var o=function(e,t){var o=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>0&&void 0!==arguments[1]&&arguments[1],i=o?o.value.trim():"";r&&(i?"email"==o.type?woostifyValidateEmail(i)?r.classList.remove("field-required"):r.classList.add("field-required"):r.classList.remove("field-required"):r.classList.add("field-required"))};t.forEach((function(e){var t=e.querySelector("[name]");t&&t.addEventListener("input",(function(){o(t,e)}))}))}},g=function(e){var t=r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),o=document.getElementById("ship-to-different-address-checkbox"),i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(i||v(t),o&&(t=o.checked?r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required, .woocommerce-shipping-fields__field-wrapper .validate-required"):r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),o.addEventListener("change",(function(){t=this.checked?r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required, .woocommerce-shipping-fields__field-wrapper .validate-required"):r.querySelectorAll(".woocommerce-billing-fields__field-wrapper .validate-required"),i||v(t)}))),i)return t};g(),o.forEach((function(e,t){e.onclick=function(){var i=e.nextElementSibling,c=i?i.innerText:"",n=!1,a=g(!0);if(a.length&&a.forEach((function(e){var t=e.querySelector("[name]");if(t){var o=t.value.trim();if(!o)return n=!0,void e.classList.add("field-required");if("email"==t.type){if(!woostifyValidateEmail(o))return n=!0,void e.classList.add("field-required");e.classList.remove("field-required")}else e.classList.remove("field-required")}})),n)document.getElementById("place_order")&&document.getElementById("place_order").click();else{var u=document.querySelector(".woocommerce-NoticeGroup");u&&(u.style.display="none"),m&&(m.innerHTML=p+" "+c);var s=siblings(e);e.classList.add("active"),s.length&&s.forEach((function(e){e.classList.remove("active")}));var h=r.querySelector(".multi-step-checkout-content .woocommerce-terms-and-conditions-wrapper"),f=!!h&&h.querySelector('.multi-step-checkout-content [name="terms"]');f&&f.addEventListener("change",(function(){this.checked&&h.classList.remove("required-item")}));var y=document.querySelectorAll(".multi-step-review-information"),v=document.getElementById("billing_email"),w=v?v.value.trim():"",S=document.getElementById("billing_address_1"),k=document.getElementById("billing_address_2"),_=document.getElementById("billing_city"),b=document.getElementById("billing_country"),L=!!b&&document.querySelector('#billing_country option[value="'+b.value+'"]'),E=document.getElementById("ship-to-different-address-checkbox"),T=document.getElementById("shipping_address_1"),M=document.getElementById("shipping_address_2"),A=document.getElementById("shipping_city"),x=document.getElementById("shipping_country"),H=!!x&&document.querySelector('#shipping_country option[value="'+x.value+'"]'),B=document.querySelector('#shipping_method .shipping_method[checked="checked"]'),I=!!B&&B.id,j=!!I&&document.querySelector('#shipping_method label[for="'+I+'"]'),O="",Q="",C="";O+=S?S.value.trim():"",O+=k?" "+k.value.trim():"",O+=_?" "+_.value.trim():"",O+=L?" "+L.innerText.trim():"",C=O,E&&E.checked&&(Q+=T?T.value.trim():"",Q+=M?" "+M.value.trim():"",Q+=A?" "+A.value.trim():"",Q+=H?" "+H.innerText.trim():"",C=Q),y.length&&y.forEach((function(e){var t=e.querySelector('.multi-step-review-information-row[data-type="email"] .review-information-content'),o=e.querySelector('.multi-step-review-information-row[data-type="address"] .review-information-content'),r=e.querySelector('.multi-step-review-information-row[data-type="shipping"] .review-information-content');t&&(t.innerHTML=w),o&&(o.innerHTML=C),r&&j&&(r.innerHTML=j.innerHTML)})),function(){if(d){var e=document.querySelectorAll("#shipping_method .shipping_method"),t="";e.length?(l.classList.remove("no-shipping-available"),e.forEach((function(e,o){var r="checked"==e.getAttribute("checked")?'checked="checked"':"",i=e.nextElementSibling;t+='<div class="shipping-methods-modified-item">',t+='<label class="shipping-methods-modified-label" for="shipping-methods-index-'+o+'"><input type="radio" '+r+' name="shipping-method-modified[0]" id="shipping-methods-index-'+o+'" class="shipping-methods-modified-input" value="'+e.value+'"><span>'+i.innerHTML+"</span></label>",t+="</div>"}))):l.classList.add("no-shipping-available"),document.querySelector(".shipping-methods-modified")?document.querySelector(".shipping-methods-modified").innerHTML=t:d.insertAdjacentHTML("beforeend",'<div class="shipping-methods-modified">'+t+"</div>");var o=document.querySelectorAll(".shipping-methods-modified-input");o.length&&o.forEach((function(e,t){e.checked&&e.value.includes("local_pickup")&&l.classList.add("has-local-pickup"),e.onclick=function(){var o=t+1,r=document.querySelector("#shipping_method li:nth-of-type("+o+') input[type="radio"]');r&&r.click(),e.value.includes("local_pickup")?l.classList.add("has-local-pickup"):l.classList.remove("has-local-pickup")}}))}}();var V=document.querySelectorAll(".review-information-link");V.length&&V.forEach((function(e){e.onclick=function(){var t=e.closest(".multi-step-review-information-row"),r=!!t&&t.getAttribute("data-type");if(r)switch(r){default:case"email":o[0].click(),v&&v.focus();break;case"address":o[0].click(),E&&E.checked&&T?T.focus():S&&S.focus();break;case"shipping":o[1].click()}}}));var z=t+1,P=l.querySelector(".multi-step-checkout-content.active"),R=l.querySelector(".multi-step-checkout-content:nth-of-type("+z+")");P&&P.classList.remove("active"),R&&R.classList.add("active");var Z=0==t,D=z==o.length;l.classList.remove("first","last"),Z?l.classList.add("first"):D&&l.classList.add("last"),0==t?(q(),window.updateOrderState=!1):1==t&&jQuery(document.body).trigger("update_checkout")}}}));var w=function(){var e=document.querySelector(".woocommerce-checkout-payment .wc_payment_methods");e&&e.remove()},q=function(){if(i){var e=(e=i.querySelector(".amount"))?e.innerHTML:"",t=r.querySelector(".order-total .amount"),o='<tr class="shipping-placeholder">';o+="<th>"+woostify_woocommerce_general.shipping_text+"</th>",o+="<td>"+woostify_woocommerce_general.shipping_next+"</td>",o+="</tr>",!document.querySelector(".shipping-placeholder")&&document.querySelector("form.woocommerce-checkout .cart-subtotal")&&document.querySelector("form.woocommerce-checkout .cart-subtotal").insertAdjacentHTML("afterend",o),t&&(t.innerHTML=e),w(),jQuery(document.body).on("updated_checkout",(function(e,t){var r=document.querySelector(".multi-step-checkout-wrapper.first"),i=!!r&&r.closest("form.woocommerce-checkout"),c=!!i&&i.querySelector(".cart-subtotal"),n=(n=!!c&&c.querySelector(".amount"))?n.innerHTML:"",l=!!i&&i.querySelector(".order-total"),d=!!l&&l.querySelector(".amount");if(document.querySelector("form.woocommerce-checkout .cart-subtotal")&&!document.querySelector(".shipping-placeholder")&&document.querySelector("form.woocommerce-checkout .cart-subtotal").insertAdjacentHTML("afterend",o),d)d.innerHTML=n;else if(!window.updateOrderState){var a=document.querySelector(".woocommerce-checkout-review-order-table");a&&(a.innerHTML=t.fragments[".woocommerce-checkout-review-order-table"]),window.updateOrderState=!0}w()}))}};q()}}},woostifyTotalPriceMobile=function(){var e=document.querySelector(".order-total td"),t=e?e.innerText:"",o=document.querySelector(".woostify-before-order-review .woostify-before-order-review-total-price strong");o&&t&&(o.innerText=t)};document.addEventListener("DOMContentLoaded",(function(){woostifyMultiStepCheckout(),woostifyExpandOrderReview(),jQuery(document.body).on("updated_checkout",woostifyTotalPriceMobile)}));