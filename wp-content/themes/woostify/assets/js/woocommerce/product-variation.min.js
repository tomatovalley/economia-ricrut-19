"use strict";function productVariation(o,e){var r=jQuery(o),t=e||"form.variations_form",a=r.find(".image-item:eq(0)"),i=a.find("img"),n=i.prop("src"),c=i.prop("srcset")||"",s=a.find("a"),d=s.prop("href"),p=r.find(".thumbnail-item:eq(0)"),u=p.find("img").prop("src");if(jQuery(t).length){var _=document.querySelector(".elementor-widget-woostify-product-meta .sku"),l=_?_.innerHTML:"",f=document.querySelector(".wpm_gtin_code_wrapper .wpm_pgw_code");f&&(f.innerHTML=l),jQuery(document.body).on("found_variation",t,(function(e,r){var t=r.image.full_src,c=r.image.src,d=r.image.thumb_src,u=r.is_in_stock;_&&(_.innerHTML=r.sku),f&&r.wpm_pgw_code&&(f.innerHTML=r.wpm_pgw_code),s.prop("href",t),n!==c?(i.removeAttr("srcset"),a.addClass("image-loading"),i.prop("src",c).one("load",(function(){a.removeClass("image-loading")}))):i.prop("src",c),p.find("img").prop("src",d),"function"==typeof easyZoomHandle&&easyZoomHandle();var l=document.querySelector(o),m=!!l&&l.querySelector(".product-images"),y=!!m&&m.querySelector(".woostify-out-of-stock-label"),g=!!m&&m.querySelector(".woostify-tag-on-sale");if(u)r.max_qty&&"function"==typeof woostifyStockQuantityProgressBar&&setTimeout((function(){woostifyStockQuantityProgressBar()}),200),y&&y.remove(),g&&woostify_woocommerce_variable_product_data.sale_tag_percent&&r.display_price!=r.display_regular_price&&(g.innerHTML="-"+Math.round((r.display_regular_price-r.display_price)/r.display_regular_price*100)+"%");else if(woostify_woocommerce_variable_product_data){var w='<span class="woostify-out-of-stock-label position-'+woostify_woocommerce_variable_product_data.out_of_stock_display+" "+woostify_woocommerce_variable_product_data.out_of_stock_square+'">'+woostify_woocommerce_variable_product_data.out_of_stock_text+"</span>";y||m.insertAdjacentHTML("beforeend",w)}})),jQuery(".reset_variations").on("click",(function(o){o.preventDefault(),l&&(_.innerHTML=l),f&&(f.innerHTML=l),i.prop("src",n),i.attr("srcset",c),p.find("img").prop("src",u),s.prop("href",d),"function"==typeof easyZoomHandle&&easyZoomHandle()}))}}document.addEventListener("DOMContentLoaded",(function(){productVariation(".product-gallery"),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){productVariation(".product-gallery")}))}))}));